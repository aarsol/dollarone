<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">


    <t t-extend="PaymentScreen-Paymentmethods">
        <t t-jquery=".paymentmethods" t-operation="replace">
            <div class='paymentmethods'>
                <t t-foreach="widget.pos.cashregisters" t-as="cashregister">
                    <t t-if="cashregister.journal.pos_method_type == 'default' or cashregister.journal.pos_method_type == 'return'">
                        <div class="btn btn-success paymentmethod" t-att-data-id="cashregister.journal_id[0]">
                            <t t-esc="cashregister.journal_id[1]" />
                        </div>
                    </t>
                    <t t-if="cashregister.journal.pos_method_type != 'default'">
                        <div class="btn btn-success paymentmethod oe_hidden" t-att-data-id="cashregister.journal_id[0]">
                            <t t-esc="cashregister.journal_id[1]" />
                        </div>
                    </t>
                </t>
            </div>
        </t>
    </t>

    <!-- invoice journal -->
    <t t-name="journal_list">
        <div class='paymentmethods'>
            <t t-foreach="widget.pos.journals" t-as="journal">
                <div class="btn  journal" t-att-journal-id="journal['id']"  t-att-data-id="journal['id']">
                    <t t-esc="journal['name']" />
                </div>
            </t>
        </div>
    </t>

    <t t-extend="PaymentScreen-Paymentlines"> <!-- add icon button update rounding amount -->
        <t t-jquery="td[class*='delete-button']" t-operation="after">
            <t t-if="line.cashregister.journal.pos_method_type == 'rounding'">
                <td class='refresh-rounding-button' t-att-data-cid='line.cid'> <i class='fa fa-spinner' /> </td>
            </t>
        </t>
    </t>
    
    <t t-name="PaymentOrderWidget">        
        <div class="paymentorder">
            <t t-if="orderlines.length === 0" >
                <div class='paymentorder-empty'>
                    <i class='fa fa-shopping-cart' />
                    <h1>Your shopping cart is empty</h1>
                </div>
            </t>
            <t t-if="orderlines.length > 0">
                <ul class="paymentorderlines"></ul>
                <div class="paymentsummary clearfix">
                    <div class="line">
                        <div class='entry total'>
                            <span class="label">Total: </span> <span class="value">0.00 </span>
                            <div class='subentry'>Taxes: <span class="value">0.00 </span></div>
                        </div>
                    </div>
                </div>
            </t>
        </div>            
    </t>


    <t t-extend="PaymentScreenWidget">
        <t t-jquery="h1" t-operation="replace">
         	<h1 style="margin: 0px;">Payment</h1>
        </t> 
         
        <t t-jquery=".left-content" t-operation="before">
        	<div class='order-content pc40 touch-scrollable scrollable-y'>
                <div class='paymentorderlines-container'>
                </div>
            </div>
        </t>       
        
        <t t-jquery=".left-content" t-operation="append">
            <!-- quickly paid -->
            <t t-if="widget.quickly_datas and widget.quickly_datas.length > 0">
                <div class='payment-buttons'>
                    <t t-foreach="widget.quickly_datas" t-as="quickly">
                        <div class="btn  quickly-payment" t-att-data-id="quickly.id">
                            <t t-esc="widget.format_currency(quickly.amount)"/>
                        </div>

                    </t>
                </div>
            </t>
            <t t-if="widget.pos.get_order()">
                <section class='set-note'>
                    <div class="order-note-information">
                        <div class="title">Order Notes</div>
                        <div class="order-note">
                            <t t-esc="widget.pos.get_order().get_note() || ''"/>
                        </div>
                    </div>
                </section>
                <section class='signature-order'>
                    <div class="order-note-information">
                        <div class="title">Customer Signature</div>
                        <img class="product-img signature"
                             t-att-src="widget.pos.get_order().get_signature() || ''"
                             style="max-height:400px;max-width:100px"
                        />
                    </div>
                </section>
            </t>
        </t>
        <t t-jquery="div[class*='paymentmethods-container']" t-operation="after">
            <t t-if="widget.pos.config.invoice_journal_ids and widget.pos.config.invoice_journal_ids.length > 0">
                <div class='invoice_journals'>
                    <p class="label" style="text-align: center;margin-left: 20px; color: black; font-weight: bold">Invoice Journal</p>
                </div>
            </t>
        </t>
        <!-- Credit Balance -->
        <t t-jquery=".js_customer_name" t-operation="append">
            <t t-if="widget.pos.get_client()">
                <span class='credit'>[Credit card] <t t-esc="widget.format_currency(widget.pos.get_client().balance)" /></span>
            </t>
        </t>
        <!-- Multi currency -->
        <t t-jquery="h1" t-operation="replace"/>
        <t t-jquery="section[class*='paymentlines-container']" t-operation="before">
            <t t-if="widget.pos.config.multi_currency">
                <section class='multi-currency'>
                    <table class='paymentlines'>
                        <colgroup>
                            <col class='due' />
                            <col class='tendered' />
                            <col class='change' />
                            <col class='method' />
                            <col class='controls' />
                        </colgroup>
                        <thead>
                            <tr class='label'>
                                <th>Currency</th>
                                <th>Rate</th>
                                <th>Covert</th>
                                <th>Paid full</th>
                                <th>Add rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class='paymentline selected'>
                                <t t-if="widget.pos.currencies">
                                    <td>
                                        <select class='select-currency'>
                                            <t t-foreach='widget.pos.currencies' t-as='currency'>
                                                <option t-att-value='currency.id' t-att-selected="currency['id'] ? ((currency['id'] === widget.pos.currency.id) ? true : undefined) : undefined">
                                                    <t t-esc='currency.name'/>
                                                    (<t t-esc='currency.symbol'/>)
                                                </option>
                                            </t>
                                        </select>
                                    </td>
                                </t>
                                <td><div class='subentry'><span class="value col-due currency-rate">N/A</span></div></td>
                                <td><div class='subentry'><span class="value col-due currency-covert">N/A</span></div></td>
                                <td><div class='subentry'><span class="value col-due currency-paid-full">N/A</span></div></td>
                                <t t-if="widget.pos.config.multi_currency_update_rate">
                                    <td class='update-rate'> <i class='fa fa-edit' /></td>
                                </t>
                            </tr>
                        </tbody>
                    </table>
                </section>
            </t>
        </t>
        <t t-jquery="span[class*='button next']" t-operation="before">
            <span class='button button_left paid_full'>
                Paid full
                <i class='fa fa-building'></i>
            </span>
            <span class='button button_bottom paid_partial'>
                Partial pay
                <i class='fa fa-edit'></i>
            </span>
        </t>
        <t t-jquery="div[class*='js_set_customer']" t-operation="after">
            <t t-if="widget.pos.get_order()">
                <t t-if="widget.pos.config.send_invoice_email">
                    <button t-attf-class='aarsol-btn left_button send_invoice_email #{ widget.pos.get_order().is_email_invoice() ? "highlight" : ""} '>
                        <div class="button_icon">
                            <i class="fa fa-envelope"/>
                        </div>
                        <div class="product-name button_text">
                            Mail invoice
                        </div>
                        <div class='key-tag'>M</div>
            			<div class='key-tag2'>ctrl+</div>    
                    </button>
                </t>
                <t t-if="widget.pos.bus_locations.length > 0">
                    <button class="aarsol-btn left_button add_team">
                        <div class="button_icon">
                            <i class="fa fa-tag"/>
                        </div>
                        <div class="product-name button_text">
                            <t t-if="!widget.pos.get_bus_location()">
                                Lead team
                            </t>
                            <t t-if="widget.pos.get_bus_location()">
                                <t t-esc="widget.pos.get_bus_location()['user_id'][1]"/>
                            </t>
                        </div>
                        <div class='key-tag'>L</div>
            			<div class='key-tag2'>ctrl+</div> 
                    </button>
                </t>
                <button class="aarsol-btn left_button signature_order">
                    <div class="button_icon">
                        <i class="fa fa-edit"/>
                    </div>
                    <div class="product-name button_text">
                        Sign order
                    </div>
                    <div class='key-tag'>S</div>
            		<div class='key-tag2'>ctrl+</div> 
                </button>
                <button class="aarsol-btn left_button add_note">
                    <div class="button_icon">
                        <i class="fa fa-edit"/>
                    </div>
                    <div class="product-name button_text">
                        Change note
                    </div>
                    <div class='key-tag'>N</div>
            		<div class='key-tag2'>ctrl+</div> 
                </button>
                <button class="aarsol-btn left_button input_voucher">
                    <div class="button_icon">
                        <i class="fa fa-gift"/>
                    </div>
                    <div class="product-name button_text">
                        Voucher
                    </div>
                    <div class='key-tag'>V</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
            </t>
        </t>
        <t t-jquery="div[class*='js_set_customer']" t-operation="replace">
            <button class="aarsol-btn left_button js_set_customer">
                <div class="button_icon">
                    <i class='fa fa-user' />
                </div>
                <div class="product-name js_customer_name button_text">
                    <t t-if="widget.pos.get_client()">
                        <t t-esc="widget.pos.get_client().name" />
                    </t>
                    <t t-if="!widget.pos.get_client()">
                        Customer
                    </t>
                </div>
                <div class='key-tag'>C</div>
       			<div class='key-tag2'>ctrl+</div> 
            </button>
            <t t-if="widget.pos.config.add_credit and widget.pos.get_order()">
                <button t-attf-class='aarsol-btn left_button add_credit #{ widget.pos.get_order().is_add_credit() ? "btn-success" : ""} '>
                    <div class="button_icon">
                        <i class="fa fa-book"/>
                    </div>
                    <div class="product-name button_text">
                        Add credit
                    </div>
                    <div class='key-tag'>A</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
            </t>
            <button class="aarsol-btn left_button add_wallet">
                <div class="button_icon">
                    <i class="fa fa-book"/>
                </div>
                <div class="product-name button_text">
                    Add wallet
                </div>
                <div class='key-tag'>W</div>
       			<div class='key-tag2'>ctrl+</div> 
            </button>
        </t>
        <t t-jquery="t[t-if*='widget.pos.config.iface_invoicing']" t-operation="replace">
            <t t-if='widget.pos.get_order()'>
                <button t-attf-class='aarsol-btn left_button js_invoice #{ widget.pos.get_order().is_to_invoice() ? "highlight" : ""} '>
                    <div class="button_icon">
                        <i class='fa fa-file-text-o' />
                    </div>
                    <div class="button_text">
                        Invoice
                    </div>
                    <div class='key-tag'>I</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
                <button t-attf-class='aarsol-btn left_button js_auto_register_payment #{ widget.pos.get_order().is_auto_register_payment() ? "highlight" : ""} '>
                    <div class="button_icon">
                        <i class='fa fa-file-text-o' />
                    </div>
                    <div class="product-name button_text">
                        Auto register payment
                    </div>
                    <div class='key-tag'>R</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
            </t>
        </t>
        <t t-jquery="t[t-if*='widget.pos.config.tip_product_id']" t-operation="replace">
            <t t-if='widget.pos.config.tip_product_id'>
                <button class="aarsol-btn left_button js_tip">
                    <div class="button_icon">
                        <i class='fa fa-heart' />
                    </div>
                    <div class="product-name button_text">
                        Tip
                    </div>
                    <div class='key-tag'>T</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
            </t>
        </t>
        <t t-jquery="t[t-if*='widget.pos.config.iface_cashdrawer']" t-operation="replace">
            <t t-if='widget.pos.config.iface_cashdrawer'>
                <button class="aarsol-btn left_button js_cashdrawer">
                    <div class="button_icon">
                        <i class='fa fa-archive' />
                    </div>
                    <div class="product-name button_text">
                        Open Cashbox
                    </div>
                    <div class='key-tag'>O</div>
           			<div class='key-tag2'>ctrl+</div> 
                </button>
            </t>
        </t>
    </t>


</templates>
